
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wellness Guide AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          colors: {
            sky: { 50: '#f0f9ff', 100: '#e0f2fe', 200: '#bae6fd', 300: '#7dd3fc', 400: '#38bdf8', 500: '#0ea5e9', 600: '#0284c7', 700: '#0369a1', 800: '#075985', 900: '#0c4a6e' },
            emerald: { 50: '#ecfdf5', 100: '#d1fae5', 200: '#a7f3d0', 300: '#6ee7b7', 400: '#34d399', 500: '#10b981', 600: '#059669', 700: '#047857', 800: '#065f46', 900: '#064e3b' },
            slate: { 50: '#f8fafc', 100: '#f1f5f9', 200: '#e2e8f0', 300: '#cbd5e1', 400: '#94a3b8', 500: '#64748b', 600: '#475569', 700: '#334155', 800: '#1e293b', 900: '#0f172a' }
          }
        }
      }
    }
  </script>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.5.1"
  }
}
</script>
</head>
<body class="bg-sky-50 font-sans text-slate-800">

  <div class="min-h-screen py-8 px-4 sm:px-6 lg:px-8">
    <header class="text-center mb-10">
      <div class="inline-flex items-center">
          <span id="header-icon-container">
            <!-- HeartIcon will be injected here by JS -->
          </span>
          <h1 class="text-4xl font-bold text-sky-700 tracking-tight">Wellness Guide AI</h1>
      </div>
      <p class="mt-2 text-lg text-slate-600">Your personalized path to better health.</p>
    </header>
    
    <main class="max-w-4xl mx-auto">
      <div id="step-indicator-container" class="mb-12 px-2">
        <!-- StepIndicator will be rendered here by JS -->
      </div>
     
      <div id="global-loading-spinner" class="hidden flex-col items-center justify-center min-h-[400px]">
        <!-- Global loading spinner content will be injected by JS -->
      </div>

      <div id="global-error-message-container" class="hidden mb-6 p-4 bg-red-50 border border-red-200 rounded-md text-red-700">
        <!-- Global error messages will be shown here -->
      </div>

      <div id="form-steps-container" class="bg-white p-6 sm:p-10 rounded-xl shadow-2xl transition-all duration-500 ease-in-out">
        <!-- Step 1: Health Issue -->
        <div id="step-health-issue" class="step space-y-6">
          <h2 class="text-2xl font-semibold text-slate-800">What is your primary health concern?</h2>
          <div>
            <label for="healthIssue" class="block text-sm font-medium text-slate-700 mb-1">Select an issue</label>
            <select id="healthIssue" name="healthIssue" class="mt-1 block w-full py-2 px-3 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
              <option value="" disabled selected>-- Select an issue --</option>
            </select>
          </div>
          <div id="custom-health-issue-container" class="hidden">
            <label for="customHealthIssue" class="block text-sm font-medium text-slate-700 mb-1">Please specify</label>
            <input type="text" id="customHealthIssue" name="customHealthIssue" class="mt-1 block w-full py-2 px-3 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="e.g., Joint Pain">
          </div>
          <p id="health-issue-error" class="text-sm text-red-600 hidden"></p>
          <div class="flex justify-end">
            <button id="healthIssueNextBtn" type="button" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors">
              Next <span id="healthIssueNextIcon" class="ml-2"></span>
            </button>
          </div>
        </div>

        <!-- Step 2: Personal Data -->
        <div id="step-personal-data" class="step space-y-6">
          <h2 class="text-2xl font-semibold text-slate-800">Tell us a bit about yourself</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label for="age" class="block text-sm font-medium text-slate-700 mb-1">Age</label>
              <input type="number" name="age" id="age" class="mt-1 block w-full py-2 px-3 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="e.g., 35">
              <p id="age-error" class="text-xs text-red-500 mt-1 hidden"></p>
            </div>
            <div>
              <label for="gender" class="block text-sm font-medium text-slate-700 mb-1">Gender</label>
              <select name="gender" id="gender" class="mt-1 block w-full py-2 px-3 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
                <option value="" disabled selected>-- Select --</option>
              </select>
              <p id="gender-error" class="text-xs text-red-500 mt-1 hidden"></p>
            </div>
            <div>
              <label for="severity" class="block text-sm font-medium text-slate-700 mb-1">Severity of Issue</label>
              <select name="severity" id="severity" class="mt-1 block w-full py-2 px-3 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
                <option value="" disabled selected>-- Select --</option>
              </select>
              <p id="severity-error" class="text-xs text-red-500 mt-1 hidden"></p>
            </div>
            <div>
              <label for="activityLevel" class="block text-sm font-medium text-slate-700 mb-1">Activity Level</label>
              <select name="activityLevel" id="activityLevel" class="mt-1 block w-full py-2 px-3 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
                <option value="" disabled selected>-- Select --</option>
              </select>
              <p id="activityLevel-error" class="text-xs text-red-500 mt-1 hidden"></p>
            </div>
            <div>
              <label for="smoker" class="block text-sm font-medium text-slate-700 mb-1">Are you a smoker?</label>
              <select name="smoker" id="smoker" class="mt-1 block w-full py-2 px-3 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm">
                <option value="" disabled selected>-- Select --</option>
              </select>
              <p id="smoker-error" class="text-xs text-red-500 mt-1 hidden"></p>
            </div>
          </div>
          <div>
            <label for="medication" class="block text-sm font-medium text-slate-700 mb-1">Current Medication (if any)</label>
            <textarea name="medication" id="medication" rows="3" class="mt-1 block w-full py-2 px-3 border border-slate-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="List any medications you are currently taking. If none, leave blank."></textarea>
          </div>
          <div class="flex justify-between">
            <button id="personalDataPrevBtn" type="button" class="inline-flex items-center px-6 py-3 border border-slate-300 text-base font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors">
              <span id="personalDataPrevIcon" class="mr-2"></span> Previous
            </button>
            <button id="personalDataNextBtn" type="button" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors">
              Next <span id="personalDataNextIcon" class="ml-2"></span>
            </button>
          </div>
        </div>

        <!-- Step 3: Location -->
        <div id="step-location" class="step space-y-6">
          <h2 class="text-2xl font-semibold text-slate-800">Your Location</h2>
          <p class="text-sm text-slate-600">This helps us find relevant health professionals near you.</p>
          <div id="location-acquired-message" class="hidden p-3 bg-emerald-50 border border-emerald-200 rounded-md text-emerald-700">
            Location acquired. <button id="clear-location-btn" class="ml-2 text-xs text-sky-600 hover:text-sky-800 font-medium">Clear</button>
          </div>
          <p id="location-error" class="text-sm text-red-600 hidden"></p>
          <button id="geoLocationBtn" type="button" class="w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:bg-slate-400 transition-colors">
            <span id="geoLocationBtnIconContainer" class="mr-2"></span> Use Current Location
          </button>
          <div class="text-center my-4 text-slate-500">OR</div>
          <div>
            <label for="manualLocation" class="block text-sm font-medium text-slate-700 mb-1">Enter City or Zip Code</label>
            <input type="text" id="manualLocation" name="manualLocation" class="mt-1 block w-full py-2 px-3 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="e.g., San Francisco, CA or 94107">
          </div>
          <div class="flex justify-between mt-8">
            <button id="locationPrevBtn" type="button" class="inline-flex items-center px-6 py-3 border border-slate-300 text-base font-medium rounded-md shadow-sm text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors disabled:opacity-50">
              <span id="locationPrevIcon" class="mr-2"></span> Previous
            </button>
            <button id="locationSubmitBtn" type="button" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors disabled:bg-slate-400">
              <span id="locationSubmitBtnText">Get Advice & Find Doctors</span>
            </button>
          </div>
        </div>

        <!-- Step 4: Results -->
        <div id="step-results" class="step space-y-8">
          <div id="results-loading-spinner" class="hidden flex-col items-center justify-center min-h-[400px]">
             <!-- Results loading spinner content will be injected by JS -->
          </div>
          <div id="results-content">
            <div id="results-api-error-container" class="hidden text-center space-y-4 p-4">
                <!-- API Error content injected here -->
            </div>
            <div id="results-success-container" class="hidden">
                <div class="text-center">
                    <h2 id="results-title" class="text-3xl font-bold text-sky-700">Your Personalized Wellness Plan</h2>
                    <p id="results-subtitle" class="mt-2 text-lg text-slate-600"></p>
                </div>

                <div class="card bg-white shadow-xl rounded-lg p-6 mt-6">
                    <div class="flex items-center mb-4">
                        <span id="diet-plan-icon" class="mr-3 text-sky-600"></span>
                        <h3 class="text-xl font-semibold text-slate-800">Diet Plan</h3>
                    </div>
                    <div id="dietPlan" class="prose prose-sm max-w-none text-slate-700"></div>
                </div>

                <div class="card bg-white shadow-xl rounded-lg p-6 mt-6">
                    <div class="flex items-center mb-4">
                        <span id="exercise-icon" class="mr-3 text-sky-600"></span>
                        <h3 class="text-xl font-semibold text-slate-800">Exercise Recommendations</h3>
                    </div>
                    <div id="exerciseRecommendations" class="prose prose-sm max-w-none text-slate-700"></div>
                </div>

                <div class="card bg-white shadow-xl rounded-lg p-6 mt-6">
                    <div class="flex items-center mb-4">
                        <span id="health-tips-icon" class="mr-3 text-sky-600"></span>
                        <h3 class="text-xl font-semibold text-slate-800">Daily Health Tips & Motivation</h3>
                    </div>
                    <div id="dailyHealthTips" class="prose prose-sm max-w-none text-slate-700"></div>
                </div>

                <div class="mt-10">
                    <h3 class="text-2xl font-semibold text-slate-800 mb-4 flex items-center">
                        <span id="doctors-list-icon" class="w-6 h-6 mr-2 text-emerald-600"></span>
                        Nearby Health Professionals
                    </h3>
                    <div id="doctorsList" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Doctors will be listed here -->
                    </div>
                    <p id="noDoctorsMessage" class="text-slate-600 hidden">No specific doctors found matching your criteria.</p>
                </div>
            </div>
            <div class="mt-8 pt-6 border-t border-slate-200 text-center">
                <p id="results-disclaimer" class="text-xs text-slate-500 mb-4 hidden">
                    The information provided is AI-generated and for informational purposes only. It is not a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.
                </p>
                <button id="startOverBtn" type="button" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors">
                    Start Over
                </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer class="text-center mt-12 text-sm text-slate-500">
      <p>&copy; <span id="currentYear"></span> Wellness Guide AI. All rights reserved.</p>
      <p class="mt-1">This tool provides information and is not a substitute for professional medical advice.</p>
    </footer>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>
